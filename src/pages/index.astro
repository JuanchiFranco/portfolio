---
import Layout from '../layouts/Layout.astro';
import HomeSection from '../components/HomeSection.astro';

let partial = false;
try {
  // Solo JS aquí: parseo de URL
  const url = new URL(Astro.request.url);
  partial = url.searchParams.has('partial');
} catch (err) {
  console.error("[index.astro] Error al parsear URL:", err);
  // opcionalmente podrías forzar un status:
  // Astro.response.status = 500;
}
---

{partial 
  ? <HomeSection />
  : (
    <Layout currentPage="home">
      <HomeSection />
    </Layout>
  )
}